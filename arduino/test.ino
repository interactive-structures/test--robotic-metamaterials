#include <Servo.h>

#define SERVO_PIN_1 9
#define SERVO_PIN_2 8

Servo s1;
Servo s2;

void setup() {
  s1.attach(SERVO_PIN_1);
  s2.attach(SERVO_PIN_2);
  Serial.begin(9600);
}

float angles1[50][2] = 
{
{1.03576,1.43067},
{1.04771,1.37514},
{1.10657,1.35431},
{1.20329,1.36847},
{1.3205,1.40987},
{1.44049,1.47134},
{1.54767,1.54904},
{1.62806,1.64141},
{1.66962,1.74657},
{1.66549,1.85865},
{1.61934,1.96441},
{1.54769,2.04473},
{1.47333,2.08327},
{1.41468,2.07478},
{1.38117,2.02498},
{1.3753,1.94514},
{1.39617,1.84748},
{1.44156,1.74306},
{1.50856,1.64111},
{1.59345,1.54905},
{1.69127,1.47257},
{1.7955,1.41597},
{1.89781,1.38252},
{1.98804,1.37479},
{2.0544,1.39451},
{2.08475,1.44124},
{2.06985,1.50949},
{2.00897,1.58529},
{1.91346,1.64691},
{1.80238,1.67335},
{1.69261,1.6543},
{1.59346,1.59203},
{1.50828,1.49658},
{1.43841,1.38116},
{1.38629,1.26049},
{1.35744,1.15121},
{1.36007,1.07154},
{1.39911,1.03587},
{1.46755,1.04673},
{1.54741,1.09626},
{1.61838,1.17468},
{1.66286,1.27384},
{1.66786,1.38528},
{1.62782,1.49691},
{1.54768,1.59202},
{1.44203,1.65343},
{1.32866,1.67086},
{1.22214,1.64487},
{1.1324,1.58519},
{1.06731,1.50736}
};

float angles2[51][2] = 
{
{2.28536,1.70256},
{2.14142,1.78942},
{2.00849,1.85497},
{1.88573,1.90155},
{1.77167,1.93173},
{1.66465,1.94783},
{1.56305,1.9518},
{1.46532,1.94511},
{1.37,1.92881},
{1.27566,1.90348},
{1.18074,1.86922},
{1.28957,1.84674},
{1.3975,1.81252},
{1.50458,1.76682},
{1.61045,1.71003},
{1.71436,1.64276},
{1.81522,1.56587},
{1.91163,1.48056},
{2.00211,1.38822},
{2.08515,1.29038},
{2.15939,1.18852},
{2.1433,1.30306},
{2.11322,1.42126},
{2.06804,1.54391},
{2.00681,1.67128},
{1.92895,1.80295},
{1.83473,1.93752},
{1.72557,2.07246},
{1.60415,2.20426},
{1.47421,2.32883},
{1.33984,2.44224},
{1.39622,2.31395},
{1.43565,2.19283},
{1.45989,2.07792},
{1.47057,1.96795},
{1.46904,1.86151},
{1.45622,1.75713},
{1.43255,1.65316},
{1.39785,1.54769},
{1.35104,1.43817},
{1.28936,1.32066},
{1.40086,1.40587},
{1.50184,1.47693},
{1.59681,1.53752},
{1.68851,1.58936},
{1.77903,1.63314},
{1.87018,1.6688},
{1.96385,1.69561},
{2.06222,1.7121},
{2.1681,1.71574},
{2.28536,1.70256}
};

String input = "";
int in = 0;

void loop() {
  s1.write(90);
  s2.write(90);
  Serial.println("Select path 1 or 2");
  while (Serial.available() == 0) {}
  input = Serial.readString();
  in = input.toInt();
  Serial.println(input);

  switch (in) {
    case 1:
      Serial.println("Selected path 1.");
      s1.write(180 - RAD_TO_DEG * angles1[0][0]);
      s2.write(180 - RAD_TO_DEG * angles1[0][1]);
      delay(5000);
      for (int row = 0; row < 50; row++) {
        float deg1 = 180 - RAD_TO_DEG * angles1[row][0];
        float deg2 = 180 - RAD_TO_DEG * angles1[row][1];
        s1.write(deg1);
        s2.write(deg2);
        Serial.print(deg1);
        Serial.print(", ");
        Serial.println(deg2);
        delay(100);
      }
      Serial.println("Path 1 complete.");
      break;
    case 2:
      Serial.println("Selected path 2.");
      s1.write(180 - RAD_TO_DEG * angles2[0][0]);
      s2.write(180 - RAD_TO_DEG * angles2[0][1]);
      delay(5000);
      for (int row = 0; row < 51; row++) {
        float deg1 = 180 - RAD_TO_DEG * angles2[row][0];
        float deg2 = 180 - RAD_TO_DEG * angles2[row][1];
        s1.write(deg1);
        s2.write(deg2);
        Serial.print(deg1);
        Serial.print(", ");
        Serial.println(deg2);
        delay(100);
      }
      Serial.println("Path 2 complete.");
      break;
    default:
      Serial.println("Select a valid path.");
  }
  





  
//  s1.write(70);
//  s2.write(53);
//  
//  delay(2000);
//  
//  for (int i = 0; i < 50; i++) {
//    Serial.print(180 - RAD_TO_DEG * angles1[2*i]);
//    Serial.print(" ");
//    Serial.println(180 - RAD_TO_DEG * angles1[2*i+1]);
//    s1.write(180 - RAD_TO_DEG * angles1[2*i]);
//    s2.write(180 - RAD_TO_DEG * angles1[2*i+1]);
//    delay(100);
//  }
}
